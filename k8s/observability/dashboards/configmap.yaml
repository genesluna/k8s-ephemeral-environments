apiVersion: v1
kind: ConfigMap
metadata:
  name: grafana-dashboards-ephemeral
  namespace: observability
  labels:
    grafana_dashboard: "1"
data:
  pr-environment-overview.json: |
    # Dashboard JSON is loaded from separate file
    # Apply with: kubectl create configmap grafana-dashboards-ephemeral \
    #   --from-file=pr-environment-overview.json \
    #   --from-file=application-metrics.json \
    #   -n observability --dry-run=client -o yaml | kubectl apply -f -
---
# Alternative: Use this script to create the ConfigMap from JSON files
# kubectl create configmap grafana-dashboards-ephemeral \
#   --from-file=pr-environment-overview.json \
#   --from-file=application-metrics.json \
#   -n observability \
#   --dry-run=client -o yaml | \
#   kubectl label -f - grafana_dashboard=1 --local -o yaml | \
#   kubectl apply -f -
